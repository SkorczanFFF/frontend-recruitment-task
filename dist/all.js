const counterBtn=document.querySelectorAll(".btn__counter"),popup=document.querySelectorAll(".popup"),popupWrapper=document.querySelectorAll(".popup__wrapper"),counter=document.querySelectorAll(".popup__counter"),closePopupBtn=document.querySelectorAll(".btn__close"),resetBtn=document.querySelectorAll(".btn__reset"),storageKey="btnClicks",endpointURL="https://jsonplaceholder.typicode.com/users",loading=document.querySelector(".loader"),table=document.querySelector(".table");for(let t=0;t<counterBtn.length;t++){let e=localStorage.getItem(storageKey[t]);counterBtn[t].addEventListener("click",()=>{popup[t].classList.add("active"),e++,counter[t].innerHTML=e+" times",localStorage.setItem(storageKey[t],e),5<e?(resetBtn[t].classList.add("visible"),resetBtn[t].addEventListener("click",()=>{e=0,resetBtn[t].classList.add("clicked"),resetBtn[t].innerHTML="Counter restarted"})):(resetBtn[t].classList.remove("visible","clicked"),resetBtn[t].innerHTML="Reset counter")})}closePopupBtn.forEach(e=>{e.addEventListener("click",()=>{popup.forEach(e=>{e.classList.remove("active")})})}),popup.forEach(t=>{t.addEventListener("click",e=>{e.target.classList.contains("active")&&t.classList.remove("active")}),async function(){const e=await fetch(endpointURL),t=await e.json();var r;if(!e.ok)throw r=`Error: ${e.status}! Can't get user data`,alert(r),new Error(r);t.map(e=>{e=`<tr class="row">
        <td>${e.name}</td>
        <td>${e.email}</td> 
        <td>${e.address.city}, ${e.address.street}, ${e.address.suite}</td>
        <td>${e.phone}</td>
        <td>${e.company.name}</td>
      </tr>`;table.insertAdjacentHTML("afterbegin",e)})}().catch(e=>{e.msg}),loading.style.display="none",table.style.display="block"});const bar=document.getElementById("status"),statusBar=()=>{currentScroll=Math.round(window.scrollY/(document.documentElement.offsetHeight-window.innerHeight)*100),bar.style.width=currentScroll+"%"};window.addEventListener("scroll",statusBar);