const counterBtn=document.querySelectorAll(".btn__counter"),popup=document.querySelectorAll(".popup"),counter=document.querySelectorAll(".popup__counter"),closePopupBtn=document.querySelectorAll(".btn__close"),resetBtn=document.querySelectorAll(".btn__reset"),storageKey="btnClicks";for(let t=0;t<counterBtn.length;t++){let e=localStorage.getItem(storageKey[t]);counterBtn[t].addEventListener("click",()=>{popup[t].classList.add("active"),e++,counter[t].innerHTML=e+" times",localStorage.setItem(storageKey[t],e),5<e?(resetBtn[t].classList.add("visible"),resetBtn[t].addEventListener("click",()=>{e=0,resetBtn[t].classList.add("clicked"),resetBtn[t].innerHTML="Counter restarted"})):(resetBtn[t].classList.remove("visible","clicked"),resetBtn[t].innerHTML="Reset counter")})}closePopupBtn.forEach(e=>{e.addEventListener("click",()=>{popup.forEach(e=>{e.classList.remove("active")})})}),popup.forEach(t=>{t.addEventListener("click",e=>{e.target.classList.contains("active")&&t.classList.remove("active")})});